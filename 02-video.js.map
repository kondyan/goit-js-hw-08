{"version":3,"file":"02-video.js","sources":["../src/js/02-video.js"],"sourcesContent":["import Player from '@vimeo/player';\nimport throttle from 'lodash.throttle';\n\nconst STORAGE_KEY = 'videoplayer-current-time';\nconst iframe = document.querySelector('iframe');\n\nconst player = new Player(iframe);\n\nconst onVideoPlay = function (evt) {\n  console.log(evt.seconds);\n\n  localStorage.setItem(STORAGE_KEY, evt.seconds);\n};\n\nplayer.on('timeupdate', throttle(onVideoPlay, 500));\n\nplayer.on('play', function () {\n  populateInputs();\n\n  function populateInputs() {\n    const savedData = localStorage.getItem(STORAGE_KEY);\n\n    if (savedData) {\n      player.setCurrentTime(savedData);\n    }\n  }\n});\n\nplayer.on('ended', function () {\n  localStorage.removeItem(STORAGE_KEY);\n});\n"],"names":["STORAGE_KEY","iframe","player","Player","onVideoPlay","evt","throttle","populateInputs","savedData"],"mappings":"+IAGA,MAAMA,EAAc,2BACdC,EAAS,SAAS,cAAc,QAAQ,EAExCC,EAAS,IAAIC,EAAOF,CAAM,EAE1BG,EAAc,SAAUC,EAAK,CACjC,QAAQ,IAAIA,EAAI,OAAO,EAEvB,aAAa,QAAQL,EAAaK,EAAI,OAAO,CAC/C,EAEAH,EAAO,GAAG,aAAcI,EAASF,EAAa,GAAG,CAAC,EAElDF,EAAO,GAAG,OAAQ,UAAY,CAC5BK,IAEA,SAASA,GAAiB,CACxB,MAAMC,EAAY,aAAa,QAAQR,CAAW,EAE9CQ,GACFN,EAAO,eAAeM,CAAS,CAElC,CACH,CAAC,EAEDN,EAAO,GAAG,QAAS,UAAY,CAC7B,aAAa,WAAWF,CAAW,CACrC,CAAC"}